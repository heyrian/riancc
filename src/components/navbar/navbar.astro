---
import Link from '@components/ui/link.astro';
import Button from '@components/ui/button.astro';
import { localizePath } from 'astro-i18next';
import { t } from 'i18next';
import LanguageSelector from '@components/languageselector.astro';
import ThemeSelector from '@components/themeselector.vue';
import menu from '@config/menu.json';
import config from '@config/config.json';
import Logo from '@components/Logo.astro';

export const menuitems = menu.main;
//alpine.js
---

<div
    class="flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8 z-10 md:pt-2 relative"
>
    <div class="p-4 flex flex-row items-center justify-between">
        <Logo />
        <div class="hamburger">
            <input class="checkbox" type="checkbox" />
            <svg fill="none" viewBox="0 0 50 50" height="50" width="50">
                <path class="lineTop line" stroke-linecap="round" stroke-width="4" stroke="black" d="M6 11L44 11"
                ></path>
                <path stroke-linecap="round" stroke-width="4" stroke="black" d="M6 24H43" class="lineMid line"></path>
                <path stroke-linecap="round" stroke-width="4" stroke="black" d="M6 37H43" class="lineBottom line"
                ></path>
            </svg>
        </div>
        <nav
            class="md:mt-0 lg:pl-8 md:items-center flex-grow pb-4 md:pb-0 flex-col gap-2 transition-all ease-out md:transition-none md:justify-center md:flex-row"
        >
            <div
                class="flex flex-col flex-grow text-center gap-2 md:justify-center items-center md:items-center md:flex md:flex-row md:mx-auto"
            >
                {
                    menuitems.map(item => (
                        <Link href={localizePath(item.path)} style="hover" size="lg" data-path={item.path}>
                            {t(item.title)}
                        </Link>
                    ))
                }
            </div>
            <div class="mt-4 sm:mx-auto md:mt-0 flex flex-col md:flex-row gap-4 mb-0">
                <ThemeSelector client:load />
                <LanguageSelector
                    showFlag={false}
                    class="appearance-none py-1 px-2 rounded bg-slate-100 dark:bg-stone-950"
                />
                <template x-if={config.settings.secondary_button}>
                    <Link href="/login" style="outline" class="md:px-3 md:py-2 leading-6">
                        {t('site.secondary_button_text')}
                    </Link>
                </template>

                <template x-if={config.settings.primary_button}>
                    <Link href="https://github.com/zankhq/astros" class="md:px-3 md:py-2 leading-6">
                        {t('site.primary_button_text')}
                    </Link>
                </template>
            </div>
        </nav>
    </div>
</div>